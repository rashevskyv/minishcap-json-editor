2025-09-29 21:16:50,243 - DEBUG - logging_utils - log_debug - ================= Application Start =================
2025-09-29 21:16:50,253 - DEBUG - logging_utils - log_debug - Applied Light Theme.
2025-09-29 21:16:50,253 - DEBUG - logging_utils - log_debug - ++++++++++++++++++++ MainWindow: Initializing ++++++++++++++++++++
2025-09-29 21:16:50,253 - DEBUG - logging_utils - log_debug - MainWindow: Initializing Core Components...
2025-09-29 21:16:50,253 - DEBUG - logging_utils - log_debug - --> SettingsManager: load_settings from settings.json
2025-09-29 21:16:50,253 - DEBUG - logging_utils - log_debug - Global settings loaded.
2025-09-29 21:16:50,254 - DEBUG - logging_utils - log_debug - Plugin settings loaded from 'plugins\zelda_ww\config.json'.
2025-09-29 21:16:50,254 - DEBUG - logging_utils - log_debug -   [LOAD STATE] Loaded Block Idx: 0, String Idx: 5, Cursor Pos: 53
2025-09-29 21:16:50,254 - DEBUG - logging_utils - log_debug - --> SettingsManager: Loading all font maps from: plugins\zelda_ww\fonts
2025-09-29 21:16:50,255 - DEBUG - logging_utils - log_debug -   Successfully loaded and parsed font map 'CKingMain.json'. Count: 386
2025-09-29 21:16:50,256 - DEBUG - logging_utils - log_debug -   Successfully loaded and parsed font map 'CKingMainL.json'. Count: 268
2025-09-29 21:16:50,258 - DEBUG - logging_utils - log_debug -   Successfully loaded and parsed font map 'CKingMsg.json'. Count: 1830
2025-09-29 21:16:50,259 - DEBUG - logging_utils - log_debug - Set default font_map to 'CKingMsg.json'.
2025-09-29 21:16:50,259 - DEBUG - logging_utils - log_debug - Loaded 27 font override entries from 'plugins\zelda_ww\font_map.json'.
2025-09-29 21:16:50,259 - DEBUG - logging_utils - log_debug - Applied 27 font override entries.
2025-09-29 21:16:50,259 - DEBUG - logging_utils - log_debug - <-- SettingsManager: load_settings finished
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - Updater 'StringSettingsUpdater' initialized.
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - UIHandler 'MainWindowUIHandler' initialized.
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - PluginHandler 'MainWindowPluginHandler' initialized.
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - EventHandler 'MainWindowEventHandler' initialized.
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - BlockHandler 'MainWindowBlockHandler' initialized.
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - MainWindow: Loading game plugin...
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug - --> MainWindowPluginHandler: load_game_plugin called.
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug -     Attempting to load plugin: 'zelda_ww'
2025-09-29 21:16:50,260 - DEBUG - logging_utils - log_debug -     Importing module: plugins.zelda_ww.rules
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug -     Successfully loaded and instantiated game rules: GameRules from plugins.zelda_ww.rules
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - <-- MainWindowPluginHandler: load_game_plugin finished.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - MainWindow: Initializing Handlers (Pre-UI setup)...
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'ListSelectionHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'TextOperationHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'AppActionHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'SearchHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'StringSettingsHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'TranslationHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - Handler 'TextAnalysisHandler' initialized.
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - MainWindow: Setting up UI...
2025-09-29 21:16:50,262 - DEBUG - logging_utils - log_debug - setup_main_window_ui: Starting UI setup.
2025-09-29 21:16:50,263 - DEBUG - logging_utils - log_debug - CustomListWidget INITIALIZED, parent: <__main__.MainWindow object at 0x0000020F67ADF760>
2025-09-29 21:16:50,263 - DEBUG - logging_utils - log_debug - CustomListWidget: Item delegate set to <components.CustomListItemDelegate.CustomListItemDelegate object at 0x0000020F67BDC5E0>
2025-09-29 21:16:50,269 - DEBUG - logging_utils - log_debug - JsonTagHighlighter initialized.
2025-09-29 21:16:50,269 - DEBUG - logging_utils - log_debug - JsonTagHighlighter: Could not get editor widget or palette, using default black text color.
2025-09-29 21:16:50,269 - DEBUG - logging_utils - log_debug - JsonTagHighlighter reconfiguring styles...
2025-09-29 21:16:50,269 - DEBUG - logging_utils - log_debug - Loaded 2 syntax highlighting rules from game plugin.
2025-09-29 21:16:50,386 - DEBUG - logging_utils - log_debug - JsonTagHighlighter initialized.
2025-09-29 21:16:50,386 - DEBUG - logging_utils - log_debug - JsonTagHighlighter: Could not get editor widget or palette, using default black text color.
2025-09-29 21:16:50,386 - DEBUG - logging_utils - log_debug - JsonTagHighlighter reconfiguring styles...
2025-09-29 21:16:50,386 - DEBUG - logging_utils - log_debug - Loaded 2 syntax highlighting rules from game plugin.
2025-09-29 21:16:50,392 - DEBUG - logging_utils - log_debug - JsonTagHighlighter initialized.
2025-09-29 21:16:50,392 - DEBUG - logging_utils - log_debug - JsonTagHighlighter: Could not get editor widget or palette, using default black text color.
2025-09-29 21:16:50,392 - DEBUG - logging_utils - log_debug - JsonTagHighlighter reconfiguring styles...
2025-09-29 21:16:50,393 - DEBUG - logging_utils - log_debug - Loaded 2 syntax highlighting rules from game plugin.
2025-09-29 21:16:50,400 - DEBUG - logging_utils - log_debug - setup_main_window_ui: UI setup complete.
2025-09-29 21:16:50,415 - DEBUG - logging_utils - log_debug - GlossaryManager: loaded 101 entries for plugin zelda_ww from plugins\zelda_ww\translation_prompts\glossary.md
2025-09-29 21:16:50,415 - DEBUG - logging_utils - log_debug - MainWindow: Initializing Handlers and dynamic UI from plugin (Post-UI setup)...
2025-09-29 21:16:50,415 - DEBUG - logging_utils - log_debug - MainWindow: Connecting Signals...
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - --> MainWindowEventHandler: connect_signals() started
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - --> MainWindowEventHandler: connect_signals() finished
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - MainWindowHelper: restore_state_after_settings_load called.
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - Restored window geometry from settings: {'x': 340, 'y': 53, 'width': 1681, 'height': 1277}
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - MainWindowHelper: Attempting to load initial file from settings: D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig.txt
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - --> AppActionHandler: load_all_data_for_path START. Original: 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig.txt', Manual Edit Path: 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig_ukr.txt', InitialLoad: True
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - load_text_file: Attempting to load 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig.txt'
2025-09-29 21:16:50,416 - DEBUG - logging_utils - log_debug - load_text_file: UTF-8 decoding failed for 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig.txt'. Trying UTF-16.
2025-09-29 21:16:50,417 - DEBUG - logging_utils - log_debug - load_text_file: Successfully loaded 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig.txt' with UTF-16.
2025-09-29 21:16:50,417 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Starting load_data_from_json_obj. Input type: <class 'str'>
2025-09-29 21:16:50,417 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: File content (first 200 chars): Now saving...
Do not touch the Memory Card or
the POWER Button.
{END}

The game could not be saved.
{END}

Warp to [Red]Southern
Fairy Island[/C][White]?[/C]
{END}

Warp to [Red]Tingle Island[/C][Whit
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Split by '{END}' resulted in 1003 segments.
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Popping last empty segment. Original last segment: '
'
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: After processing, 1002 strings remain.
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Loaded 1002 strings from TXT file into one block named 'Block 0'.
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - load_text_file: Attempting to load 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig_ukr.txt'
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - load_text_file: UTF-8 decoding failed for 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig_ukr.txt'. Trying UTF-16.
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - load_text_file: Successfully loaded 'D:/git/WW/WindWaker_HD_rus_(NTSC+PAL)/ukr/message_orig_ukr.txt' with UTF-16.
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Starting load_data_from_json_obj. Input type: <class 'str'>
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: File content (first 200 chars): Now saving...
Do not touch the Memory Card or
the POWER Button.
{END}

The game could not be saved.
{END}

Warp to [Red]Southern
Fairy Island[/C][White]?[/C]
{END}

Warp to [Red]Tingle Island[/C][Whit
2025-09-29 21:16:50,418 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Split by '{END}' resulted in 1003 segments.
2025-09-29 21:16:50,419 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Popping last empty segment. Original last segment: '
'
2025-09-29 21:16:50,419 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: After processing, 1002 strings remain.
2025-09-29 21:16:50,419 - DEBUG - logging_utils - log_debug - Wind Waker Plugin: Loaded 1002 strings from TXT file into one block named 'message_orig.txt'.
2025-09-29 21:16:50,419 - DEBUG - logging_utils - log_debug - Performing initial silent scan for all issues...
2025-09-29 21:16:50,633 - DEBUG - logging_utils - log_debug - Initial scan complete. Found problems in 1545 sublines.
2025-09-29 21:16:50,634 - DEBUG - logging_utils - log_debug - <-- AppActionHandler: load_all_data_for_path FINISHED (Success)
2025-09-29 21:16:50,634 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] Attempting restore with Block Idx: 0, String Idx: 5
2025-09-29 21:16:50,634 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] Block index 0 is valid. Setting current row...
2025-09-29 21:16:50,634 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] Manually calling block_selected for item 'Block 0 (277 EmptyOddL, 16 1Word, 1255 Short)'
2025-09-29 21:16:50,902 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] String index 5 is valid. Calling string_selected_from_preview...
2025-09-29 21:16:51,124 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] Setting cursor position. Target: 53 (from saved 53, doc len: 53)
2025-09-29 21:16:51,124 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] Cursor position set. Actual final position: 53
2025-09-29 21:16:51,124 - DEBUG - logging_utils - log_debug -   [RESTORE STATE] Setting scollbars. Edited V/H: 0/0, Preview V: 0, Original V/H: 0/0
2025-09-29 21:16:51,124 - DEBUG - logging_utils - log_debug - MainWindowHelper: Restored selection to block 0, string 5, cursor 53
2025-09-29 21:16:51,125 - DEBUG - logging_utils - log_debug - MainWindowHelper: Search history loaded into panel. Last query (if any) set in SearchHandler: 
2025-09-29 21:16:51,125 - DEBUG - logging_utils - log_debug - MainWindowUIHandler: Applying font. General: Family='Segoe UI', Editor: Family='Consolas', Size=13
2025-09-29 21:16:51,165 - DEBUG - logging_utils - log_debug - ListSelectionHandler.block_selected: current_item is None. Attempting to restore selection to 0.
2025-09-29 21:16:51,602 - DEBUG - logging_utils - log_debug - Applying text wrap settings: Preview wrap: False, Editors wrap: False
2025-09-29 21:16:51,604 - DEBUG - logging_utils - log_debug - Rebuilt unsaved_block_indices: set()
2025-09-29 21:16:51,604 - DEBUG - logging_utils - log_debug - ++++++++++++++++++++ MainWindow: Initialization Complete ++++++++++++++++++++
2025-09-29 21:16:51,734 - DEBUG - logging_utils - log_debug - Starting Qt event loop...
2025-09-29 21:16:51,735 - DEBUG - logging_utils - log_debug - MainWindowUIHandler: Forcing window focus.
2025-09-29 21:16:54,296 - DEBUG - logging_utils - log_debug - Starting block AI translation for block 0 with timeout 1200s (base 120s); lines=1002
2025-09-29 21:16:54,310 - DEBUG - logging_utils - log_debug - GlossaryManager: loaded 101 entries for plugin zelda_ww from plugins\zelda_ww\translation_prompts\glossary.md
2025-09-29 21:16:54,310 - DEBUG - logging_utils - log_debug - AIWorker: Thread started for task type 'translate_block_chunked'.
2025-09-29 21:16:54,311 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 1666
2025-09-29 21:16:54,311 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 0,
      "text": "Now saving...\nDo not touch the Memory Card or\nthe POWER Button."
    },
    {
      "id": 1,
      "text": "The game could not be saved."
    },
    {
      "id": 2,
      "text": "Warp to [Red]Southern\nFairy Island[/C][White]?[/C]"
    },
    {
      "id": 3,
      "text": "Warp to [Red]Tingle Island[/C][White]?[/C]"
    },
    {
      "id": 4,
      "text": "Warp to [Red]this area[/C][White]?[/C]"
    },
    {
      "id": 5,
      "text": "Warp to the [Red]Mother & Child\nIsles[/C][White]?[/C]"
    },
    {
      "id": 6,
      "text": "Warp to [Red]Windfall Island[/C][White]?[/C]"
    },
    {
      "id": 7,
      "text": "Warp to [Red]Dragon Roost Island[/C][White]?[/C]"
    },
    {
      "id": 8,
      "text": "Warp to [Red]Greatfish Isle[/C][White]?[/C]"
    },
    {
      "id": 9,
      "text": "Warp to the [Red]Tower of\nthe Gods[/C][White]?[/C]"
    }
  ]
}
2025-09-29 21:17:04,653 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 2451
2025-09-29 21:17:04,653 - DEBUG - logging_utils - log_debug - Received translated chunk 0. Raw AI response:
{
  "translated_strings": [
    {
      "id": 0,
      "translation": "Зараз зберігається...\nНе торкайтеся до картки пам'яті або\nкнопки Живлення."
    },
    {
      "id": 1,
      "translation": "Гру не вдалося зберегти."
    },
    {
      "id": 2,
      "translation": "Телепортуватися на [Red]Південний\nОстрів Фей[/C][White]?[/C]"
    },
    {
      "id": 3,
      "translation": "Телепортуватися на [Red]Острів Тінґла[/C][White]?[/C]"
    },
    {
      "id": 4,
      "translation": "Телепортуватися в [Red]цю зону[/C][White]?[/C]"
    },
    {
      "id": 5,
      "translation": "Телепортуватися на [Red]Острови Матері та Дитини[/C][White]?[/C]"
    },
    {
      "id": 6,
      "translation": "Телепортуватися на [Red]Острів Щасливого Вітру[/C][White]?[/C]"
    },
    {
      "id": 7,
      "translation": "Телепортуватися на [Red]Острів Драконячого Сідала[/C][White]?[/C]"
    },
    {
      "id": 8,
      "translation": "Телепортуватися на [Red]Острів Великої Риби[/C][White]?[/C]"
    },
    {
      "id": 9,
      "translation": "Телепортуватися на [Red]Вежу Богів[/C][White]?[/C]"
    }
  ]
}
2025-09-29 21:17:04,653 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 10,
      "text": "Warp to the [Red]Forest Haven[/C][White]?[/C]"
    },
    {
      "id": 11,
      "text": "Warp to [Red]Outset Island[/C][White]?[/C]"
    },
    {
      "id": 12,
      "text": "[ChM1]You got a [Green]Green Rupee[/C][White]![ChM2]\n[02_184]That's worth [/C][Purple]1 Rupee[/C][White]!\nBetter collect lots of them![/C]"
    },
    {
      "id": 13,
      "text": "[ChM1]You got a [Blue]Blue Rupee[/C][White]![ChM2]\n[02_184]That's worth [/C][Purple]5 Rupees[/C][White].\nNot too bad, huh?[/C]"
    },
    {
      "id": 14,
      "text": "[ChM1]You got a [Yellow]Yellow Rupee[/C][White]![ChM2]\n[02_184]That's worth [/C][Purple]10 Rupees[/C][White].\nNot too shabby![/C]"
    },
    {
      "id": 15,
      "text": "[ChM1]You got a [Red]Red Rupee[/C][White]![ChM2]\n[02_184]That's [/C][Purple]20 Rupees[/C][White].\nWhat a pleasant surprise![/C]"
    },
    {
      "id": 16,
      "text": "[ChM1]You got a [Purple]Purple Rupee[/C][White]![ChM2]\n[02_184]That's worth [/C][Purple]50 Rupees[/C][White].\nThat's just great![/C]"
    },
    {
      "id": 17,
      "text": "[ChM1]You got an [Orange]Orange Rupee[/C][White]![ChM2]\n[02_184]Just one of these is worth\n[/C][Purple]100 Rupees[/C][White]! Your face is beaming![/C]"
    },
    {
      "id": 18,
      "text": "[ChM1]You got a [Red]Piece of Heart[/C][White]![ChM2]\n[02_184]Collect four of these to complete a\nnew Heart Container. More Heart\nContainers equals more life![/C]"
    },
    {
      "id": 19,
      "text": "[ChM1]You got a [Red]Heart Container[/C][White]![ChM2]\n[02_184]Your life energy has increased by\n[/C][Red]one[/C][White]! Plus, your life gauge has been\nreplenished![/C]"
    }
  ]
}
2025-09-29 21:17:04,654 - DEBUG - logging_utils - log_debug - DSP.update_edited_data: Unsaved changes status changed to True
2025-09-29 21:17:22,735 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 3669
2025-09-29 21:17:22,735 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 20,
      "text": "[ChM1]You got a [Silver]Silver Rupee[/C][White]![ChM2]\n[02_184]One is worth a whopping [/C][Purple]200 Rupees[/C][White]!\nIt's time to jump for joy![/C]"
    },
    {
      "id": 21,
      "text": "[ChM1]You got a [Red]small key[/C][White]![/C][Red][ChM2]\n[/C][White][02_184]Use it to open locked doors.\nYou can use it only in this dungeon.[/C]"
    },
    {
      "id": 22,
      "text": "[ChM1]You got a [Red]Piece of Heart[/C][White]![ChM2]\n[02_184]You've collected a total of [/C][Red]two\npieces[/C][White]. Get [/C][Red]two[/C][White] more to complete\nanother Heart Container.[/C]"
    },
    {
      "id": 23,
      "text": "[ChM1]You got a [Red]Piece of Heart[/C][White]![ChM2]\n[02_184]You've collected [/C][Red]three[/C][White] so far. Collect\n[/C][Red]one[/C][White] more to increase your life energy\nby one heart.[/C]"
    },
    {
      "id": 24,
      "text": "[ChM1]You got a [Red]Piece of Heart[/C][White]![ChM2]\n[02_184]That's the [/C][Red]fourth[/C][White] piece, completing\nanother Heart Container! Your life\nenergy has increased by [/C][Red]one heart[/C][White]![/C]"
    },
    {
      "id": 25,
      "text": "[ChM1]You got a [Yellow]Yellow Rupee[/C][White]![ChM2]\n[02_184]That's [/C][Purple]10 Rupees[/C][White].\n[02_188]What?! [02_191]Th-[02_188]That's it?!\nThis is a joke, right?[/C]"
    },
    {
      "id": 26,
      "text": "[ChM1]You got a [Red]Joy Pendant[/C][White]![ChM2]\nYou can keep it in your Spoils Bag.\n\n\nThese pendants are said to flock to\nthose who spread joy, like butterflies\nto nectar-filled blossoms.[/C]"
    },
    {
      "id": 27,
      "text": "[ChM1]You got the [Red]Telescope[/C][White]![ChM2]\n[02_184]This is your sister's most precious\nbelonging. Treasure it dearly!\n\nSet it to (Y), [White](X)[White], or [White]<R>,[White] and use it by\npressing whatever button you set it\nto. Do it now, and see what you can\nsee!\nUsing the GamePad, you can also touch\nand slide items to set them![/C]"
    },
    {
      "id": 28,
      "text": "[ChM1]You got a [Red]Tingle Bottle[/C][White]![ChM2]\n[02_184]Using Miiverse, you can insert a message\nyou've written and send it out to sea for\nsomeone unknown to receive![/C][White]\nSet it to and use it with (Y), [White](X)[White], or [White]<R>.\nBe aware that you can't write letters if\nyou're not connected to Miiverse.[White][/C]"
    },
    {
      "id": 29,
      "text": "[ChM1]You received the legendary\n[Red]Wind Waker[/C][White]![White][ChM2][White] [02_184]By using this magical\nconductor's baton, you can borrow\nthe power of the gods!\nUse [White][White](R)[White] to conduct.[White]\n\n\n\nDon't tilt (L) to conduct in [/C][Red]3</>4 time[/C][White].[/C][Red]\n[/C][White]Hold [White](L←)[White] to conduct in [/C][Red]4</>4 time[/C][White].[/C][Red]\n[/C][White]Hold [White](L→)[White] to conduct in [/C][Red]6</>4 time[/C][White].[/C]"
    }
  ]
}
2025-09-29 21:17:22,737 - DEBUG - logging_utils - log_debug - Received translated chunk 1. Raw AI response:
{
  "translated_strings": [
    {
      "id": 10,
      "translation": "Телепортуватися до [Red]Лісового Притулку[/C][White]?[/C]"
    },
    {
      "id": 11,
      "translation": "Телепортуватися до [Red]Початкового острова[/C][White]?[/C]"
    },
    {
      "id": 12,
      "translation": "[ChM1]Ви отримали [Green]Зелену Рупію[/C][White]![ChM2]\n[02_184]Це коштує [/C][Purple]1 Рупію[/C][White]!\nКраще збирайте їх багато![/C]"
    },
    {
      "id": 13,
      "translation": "[ChM1]Ви отримали [Blue]Синю Рупію[/C][White]![ChM2]\n[02_184]Це коштує [/C][Purple]5 Рупій[/C][White].\nНе так вже й погано, правда?[/C]"
    },
    {
      "id": 14,
      "translation": "[ChM1]Ви отримали [Yellow]Жовту Рупію[/C][White]![ChM2]\n[02_184]Це коштує [/C][Purple]10 Рупій[/C][White].\nНе так вже й погано![/C]"
    },
    {
      "id": 15,
      "translation": "[ChM1]Ви отримали [Red]Червону Рупію[/C][White]![ChM2]\n[02_184]Це [/C][Purple]20 Рупій[/C][White].\nЯка приємна несподіванка![/C]"
    },
    {
      "id": 16,
      "translation": "[ChM1]Ви отримали [Purple]Фіолетову Рупію[/C][White]![ChM2]\n[02_184]Це коштує [/C][Purple]50 Рупій[/C][White].\nЦе просто чудово![/C]"
    },
    {
      "id": 17,
      "translation": "[ChM1]Ви отримали [Orange]Помаранчеву Рупію[/C][White]![ChM2]\n[02_184]Лише одна з цих коштує\n[/C][Purple]100 Рупій[/C][White]! Ваше обличчя сяє![/C]"
    },
    {
      "id": 18,
      "translation": "[ChM1]Ви отримали [Red]Частинку Серця[/C][White]![ChM2]\n[02_184]Зберіть чотири з цих, щоб завершити\nновий Серце-контейнер. Більше Серце-контейнерів\nозначає більше життя![/C]"
    },
    {
      "id": 19,
      "translation": "[ChM1]Ви отримали [Red]Серце-контейнер[/C][White]![ChM2]\n[02_184]Ваш рівень здоров'я збільшився на\n[/C][Red]одне[/C][White]! Крім того, ваш запас здоров'я\nбув відновлений![/C]"
    }
  ]
}
2025-09-29 21:17:49,971 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 3878
2025-09-29 21:17:49,971 - DEBUG - logging_utils - log_debug - Received translated chunk 2. Raw AI response:
{
  "translated_strings": [
    {
      "id": 20,
      "translation": "[ChM1]Ви отримали [Silver]Срібну Рупію[/C][White]![ChM2]\n[02_184]Одна коштує вражаючі [/C][Purple]200 Рупій[/C][White]!\nЧас стрибати від радості![/C]"
    },
    {
      "id": 21,
      "translation": "[ChM1]Ви отримали [Red]малий ключ[/C][White]![/C][Red][ChM2]\n[/C][White][02_184]Використовуйте його, щоб відкрити замкнені двері.\nВи можете використовувати його тільки в цьому підземеллі.[/C]"
    },
    {
      "id": 22,
      "translation": "[ChM1]Ви отримали [Red]Частинку Серця[/C][White]![ChM2]\n[02_184]Ви зібрали всього [/C][Red]дві\nчастинки[/C][White]. Зберіть [/C][Red]дві[/C][White] ще, щоб завершити\nінший Серце-контейнер.[/C]"
    },
    {
      "id": 23,
      "translation": "[ChM1]Ви отримали [Red]Частинку Серця[/C][White]![ChM2]\n[02_184]Ви зібрали [/C][Red]три[/C][White] до цього часу. Зберіть\n[/C][Red]одну[/C][White] ще, щоб збільшити свій рівень здоров'я\nна одне серце.[/C]"
    },
    {
      "id": 24,
      "translation": "[ChM1]Ви отримали [Red]Частинку Серця[/C][White]![ChM2]\n[02_184]Це [/C][Red]четверта[/C][White] частинка, що завершує\nінший Серце-контейнер! Ваш рівень\nздоров'я збільшився на [/C][Red]одне серце[/C][White]![/C]"
    },
    {
      "id": 25,
      "translation": "[ChM1]Ви отримали [Yellow]Жовту Рупію[/C][White]![ChM2]\n[02_184]Це [/C][Purple]10 Рупій[/C][White].\n[02_188]Що?! [02_191]Це-[02_188] це все?!\nЦе ж жарт, правда?[/C]"
    },
    {
      "id": 26,
      "translation": "[ChM1]Ви отримали [Red]Підвіску Радості[/C][White]![ChM2]\nВи можете зберігати її у своїй Сумці для Трофеїв.\n\n\nЦі підвіски, кажуть, збираються до\nтих, хто поширює радість, як метелики\nдо квітів, наповнених нектаром.[/C]"
    },
    {
      "id": 27,
      "translation": "[ChM1]Ви отримали [Red]Телескоп[/C][White]![ChM2]\n[02_184]Це найцінніша річ вашої сестри.\nЦінуйте її дорого!\n\nВстановіть його на (Y), [White](X)[White], або [White]<R>,[White] і використовуйте, натискаючи будь-яку кнопку, яку ви встановили.\nЗробіть це зараз і подивіться, що ви можете\nпобачити!\nВикористовуючи GamePad, ви також можете торкатися\nі перетягувати предмети, щоб їх налаштувати![/C]"
    },
    {
      "id": 28,
      "translation": "[ChM1]Ви отримали [Red]Пляшку Тінґла[/C][White]![ChM2]\n[02_184]Використовуючи Miiverse, ви можете вставити повідомлення,\nяке ви написали, і надіслати його в море, щоб\nхтось невідомий отримав його![/C][White]\nВстановіть його і використовуйте з (Y), [White](X)[White], або [White]<R>.\nЗверніть увагу, що ви не можете писати листи, якщо\nне підключені до Miiverse.[White][/C]"
    },
    {
      "id": 29,
      "translation": "[ChM1]Ви отримали легендарний\n[Red]Диригент Вітрів[/C][White]![White][ChM2][White] [02_184]Використовуючи цю магічну\nдиригентську паличку, ви можете запозичити\nсилу богів!\nВикористовуйте [White][White](R)[White], щоб диригувати.[White]\n\n\n\nНе нахиляйте (L), щоб диригувати в [/C][Red]3</>4 час[/C][White].[/C][Red]\n[/C][White]Тримайте [White](L←)[White], щоб диригувати в [/C][Red]4</>4 час[/C][White].[/C][Red]\n[/C][White]Тримайте [White](L→)[White], щоб диригувати в [/C][Red]6</>4 час[/C][White].[/C]"
    }
  ]
}
2025-09-29 21:17:49,971 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 30,
      "text": "[ChM1]You got the [Red]Picto Box[/C][White]![ChM2]\nSet it to and use it with (Y), [White](X)[White], or [White]<R>[White]!\nIt can record up to 12 pictographs.\nPress [White]<ZR>[White] to view your pictographs.[/C]"
    },
    {
      "id": 31,
      "text": "[ChM1]You got the [Red]Spoils Bag[/C][White]![ChM2]\n[02_184]You can keep the items you get from\nenemies in this handy pouch.\n\nIt can hold up to [/C][Red]eight kinds[/C][White] of items.\nPress (Y), [White](X)[White], or [White]<R>[White] on the Items screen\nto see what's inside.[/C]"
    },
    {
      "id": 32,
      "text": "[ChM1]You got the [Red]Grappling Hook[/C][White]![ChM2]\n[02_184]This was an item used by the\nRito people before they had wings.\n\nSet it to (Y), [White](X)[White], or [White]<R>[White] on the Items\nscreen, and then press that button to\naim. Use this item to latch on to\nanything with a [/C][Yellow][flash][/C][White] on it.\nYou can even use it to haul things\nup from the seafloor while on your\nboat.[/C]"
    },
    {
      "id": 33,
      "text": "[ChM1]You got a [Red]Deluxe Picto Box[/C][White]![ChM2]\nA gift from Lenzo, commemorating your\nbecoming his assistant. It can take color\npictographs!\nSet it to and use it with (Y), (X), or <R>.[/C]"
    },
    {
      "id": 34,
      "text": "[ChM1]You got the [Red]Hero's Bow[/C][White]![ChM2]\n[02_184]Set it to (Y), (X), or <R>, and then use\nit with the button you've set it to.\n\nHold the button to nock an arrow,\nand release the button to shoot.\nYou can carry up to [/C][Red]30 arrows[/C][White].[/C]"
    },
    {
      "id": 35,
      "text": "[ChM1]You got the [Red]Power Bracelets[/C][White]![ChM2]\n[02_184]Both arms are now stronger than\never! Press (A) to grab and lift\nobjects.[/C]"
    },
    {
      "id": 36,
      "text": "[ChM1]You got the [Red]Iron Boots[/C][White]![ChM2]\n[02_184]These boots are so heavy, you can\nhardly walk, but the wind can't blow\nyou around when you wear them![/C]"
    },
    {
      "id": 37,
      "text": "[ChM1]You got the [Red]Magic Armor[/C][White]![ChM2]\n[02_184]Use your [/C][Red]Rupees[/C][White] to create a barrier around\nyou that protects you from enemy attacks!\n\nYou won't expend Rupees unless you take\ndamage from an enemy or other hazard.\nSet it to and use it with (Y), [White](X)[White], or [White]<R>[White]![/C]"
    },
    {
      "id": 38,
      "text": "[ChM1]You got the [Red]Bait Bag[/C][White]![ChM2]\n[02_184]You can keep plenty of bait in this\nconvenient satchel!\n\nIt has [/C][Red]eight pouches[/C][White] for storing bait.\nPress (Y), [White](X)[White], or [White]<R>[White] to see what's\ninside![/C]"
    },
    {
      "id": 39,
      "text": "[ChM1]You got the [Red]Boomerang[/C][White]![ChM2]\n[02_184]Set it to and throw it with\n(Y), [White](X)[White], or [White]<R>[White].\n\nTarget specific objects by holding\nthe button you set it to and aiming\nat something until the [/C][Red]red targeting\ncursor[/C][White] changes to a [/C][Yellow][flash][/C][White].\nYou can target [/C][Red]up to five objects [/C][White]at\nonce.[/C]"
    }
  ]
}
2025-09-29 21:18:17,391 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 3829
2025-09-29 21:18:17,391 - DEBUG - logging_utils - log_debug - Received translated chunk 3. Raw AI response:
{
  "translated_strings": [
    {
      "id": 30,
      "translation": "[ChM1]Ви отримали [Red]Пікто-скриньку[/C][White]![ChM2]\nПризначте її та використовуйте з (Y), [White](X)[White] або [White]<R>[White]!\nВона може записувати до 12 піктографів.\nНатисніть [White]<ZR>[White], щоб переглянути свої піктографи.[/C]"
    },
    {
      "id": 31,
      "translation": "[ChM1]Ви отримали [Red]Сумку для Трофеїв[/C][White]![ChM2]\n[02_184]Ви можете зберігати предмети, які отримуєте від\nворогів у цій зручній сумці.\n\nВона може вмістити до [/C][Red]восьми видів[/C][White] предметів.\nНатисніть (Y), [White](X)[White] або [White]<R>[White] на екрані предметів,\nщоб побачити, що всередині.[/C]"
    },
    {
      "id": 32,
      "translation": "[ChM1]Ви отримали [Red]Гакустріл[/C][White]![ChM2]\n[02_184]Цей предмет використовували люди племені Ріто,\nперш ніж вони отримали крила.\n\nПризначте його на (Y), [White](X)[White] або [White]<R>[White] на екрані предметів,\nа потім натисніть цю кнопку, щоб націлитися. Використовуйте цей предмет, щоб зачепитися за\nбудь-що з [/C][Yellow][flash][/C][White] на ньому.\nВи навіть можете використовувати його, щоб витягувати речі\nз морського дна, перебуваючи на своєму\nчовні.[/C]"
    },
    {
      "id": 33,
      "translation": "[ChM1]Ви отримали [Red]Делюкс Пікто-скриньку[/C][White]![ChM2]\nПодарунок від Ленцо, що відзначає ваше\nстатус асистента. Вона може робити кольорові\nпіктографи!\nПризначте її та використовуйте з (Y), (X) або <R>.[/C]"
    },
    {
      "id": 34,
      "translation": "[ChM1]Ви отримали [Red]Лук Героя[/C][White]![ChM2]\n[02_184]Призначте його на (Y), (X) або <R>, а потім використовуйте\nз кнопкою, на яку ви його призначили.\n\nУтримуйте кнопку, щоб зарядити стрілу,\nі відпустіть кнопку, щоб вистрілити.\nВи можете носити до [/C][Red]30 стріл[/C][White].[/C]"
    },
    {
      "id": 35,
      "translation": "[ChM1]Ви отримали [Red]Браслети Сили[/C][White]![ChM2]\n[02_184]Обидві руки тепер сильніші, ніж\nколи-небудь! Натисніть (A), щоб схопити та підняти\nоб'єкти.[/C]"
    },
    {
      "id": 36,
      "translation": "[ChM1]Ви отримали [Red]Залізні Чоботи[/C][White]![ChM2]\n[02_184]Ці чоботи такі важкі, що ви\nледве можете ходити, але вітер не може\nвас здути, коли ви їх носите![/C]"
    },
    {
      "id": 37,
      "translation": "[ChM1]Ви отримали [Red]Магічну Броню[/C][White]![ChM2]\n[02_184]Використовуйте свої [/C][Red]Рупії[/C][White], щоб створити бар'єр навколо\nвас, який захищає від атак ворогів!\n\nВи не витрачатимете Рупії, якщо не отримаєте\nшкоду від ворога або іншої небезпеки.\nПризначте її та використовуйте з (Y), [White](X)[White] або [White]<R>[White]![/C]"
    },
    {
      "id": 38,
      "translation": "[ChM1]Ви отримали [Red]Сумку для Приманок[/C][White]![ChM2]\n[02_184]Ви можете зберігати багато приманок у цій\nзручній сумці!\n\nВона має [/C][Red]вісім кишень[/C][White] для зберігання приманок.\nНатисніть (Y), [White](X)[White] або [White]<R>[White], щоб побачити, що\nвсередині![/C]"
    },
    {
      "id": 39,
      "translation": "[ChM1]Ви отримали [Red]Бумеранг[/C][White]![ChM2]\n[02_184]Призначте його та киньте з\n(Y), [White](X)[White] або [White]<R>[White].\n\nНацілюйте на конкретні об'єкти, утримуючи\nкнопку, на яку ви його призначили, і націлюючись\nна щось, поки [/C][Red]червоний курсор націлювання[/C][White] не зміниться на [/C][Yellow][flash][/C][White].\nВи можете націлитися [/C][Red]до п'яти об'єктів [/C][White]одразу.[/C]"
    }
  ]
}
2025-09-29 21:18:17,391 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 40,
      "text": "[ChM1]You got the [Red]Hookshot[/C][White]![ChM2]\n[02_184]It extends! It retracts! It latches on to\nthings! What a cool invention!\n\nSet it to (Y), (X), or <R>, and then hold\nthe button you've set it to and aim\nwith [White](R)[White]. Release the button to fire\nout the Hookshot.[/C]"
    },
    {
      "id": 41,
      "text": "[ChM1]You got a [Red]Delivery Bag[/C][White]![ChM2]\n[02_184]Finely crafted bags like this are\nused by Rito postmen everywhere!\n\nWith so many pockets, it can hold\nmany [/C][Red]items[/C][White]. Select it on the Items\nscreen and press (Y), [White](X)[White], or [White]<R>[White]\nto see what you have inside.[/C]"
    },
    {
      "id": 42,
      "text": "[ChM1]You got [Red]bombs[/C][White]![ChM2]\n[02_184]You can carry up to [/C][Red]30[/C][White].\n\n\nPull one out, and then press (A) to\nthrow it or [White]<ZR>[White] to set it at your feet.\nTry it out... It's a blast!\n\nUsing bombs while on your boat\ngives you a mighty cannon you can\nuse to fight off seagoing enemies.\n\nSet them to and use them with\n(Y), [White](X)[White], or [White]<R>[White]![/C]"
    },
    {
      "id": 43,
      "text": "[ChM1]You got the [Red]Hero's Clothes[/C][White]![ChM2]\n[02_184]They look like they might be a little\nwarm for this weather...[/C]"
    },
    {
      "id": 44,
      "text": "[ChM1]You got the [Red]Skull Hammer[/C][White]![ChM2]\n[White][02_184][White]Set it to and use it with (Y), [White](X)[White], or <R>.\nThis mighty hammer can break things\nand pound obstacles into the ground.\nSome enemies even get stunned by\nthe shock waves it causes when you\npound the ground with it.[/C]"
    },
    {
      "id": 45,
      "text": "[ChM1]You got the [Red]Deku Leaf[/C][White]![ChM2]\n[02_184]Set it to and use it with (Y), [White](X)[White], or [White]<R>[White].\n\n\nPlant your feet on the ground and\nuse it to blow blasts of air at\nobjects and enemies.\n\nYou can also jump in the air and\nuse your [/C][Red]magic power[/C][White] to drift on\nthe currents of the wind![/C]"
    },
    {
      "id": 46,
      "text": "[ChM1]The powers of [Red]fire[/C][White] and [/C][Red]ice [/C][White]have been\nadded to your [/C][Red]arrows[/C][White]![White][ChM2][White][02_184] When you take\nout your bow, use [White]<ZR>[White] to change\narrowheads, and then fire away![/C]"
    },
    {
      "id": 47,
      "text": "[ChM1]You got the [Red]Light Arrow[/C][White]![ChM2]\n[02_184]When you take out your bow, use [White]<ZR>[White]\nto change arrowheads, and then fire\naway.\nThe sacred light of these arrows can\npierce pure evil itself![/C]"
    },
    {
      "id": 48,
      "text": "[ChM1]You got the [Red]Hero's New Clothes[/C][White]...\nWhat the...?[White][ChM2][White]\n[02_184]Wow! They're really [02_184]light...[/C]"
    },
    {
      "id": 49,
      "text": "[ChM1]You accepted the [Red]Hero's Sword[/C][White]![ChM2]\n[02_184]Wield it with (B).\n\n\nUse it wisely and carefully... You\ndon't want to let down the kind old\nman who has entrusted it to you![/C]"
    }
  ]
}
2025-09-29 21:18:48,411 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 3292
2025-09-29 21:18:48,412 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 50,
      "text": "[ChM1]You got the [Red]Master Sword[/C][White]![ChM2]\n[02_184]The legendary blade with the power\nto repel evil...once wielded by the\nlegendary hero himself![/C]"
    },
    {
      "id": 51,
      "text": "[ChM1]The prayers of the Earth Sage have\nrestored the [Red]Master Sword's[/C][White] former\nenergy![White][ChM2][White]\n\n[02_184]There is but one last step before it\nbecomes the true Master Sword once\nagain![/C]"
    },
    {
      "id": 52,
      "text": "[ChM1]You got the [Red]Hero's Shield[/C][White]![ChM2]\n[02_184]This is the legendary shield said to\nhave been used by the hero himself!\n\nHold <ZR> to defend yourself while holding\nthe sword. You can move around if you\ndefend while [/C][Red]targeting[/C][White]![/C]"
    },
    {
      "id": 53,
      "text": "[ChM1]You got the [Red]Mirror Shield[/C][White]![ChM2]\n[02_184]Its shiny surface reflects beams of\nlight. Hold [White]<ZR>[White] to shield, and use (L)\nto aim its reflection.[/C]"
    },
    {
      "id": 54,
      "text": "[ChM1]You got back the [Red]Hero's Sword you\ndropped[/C][White]! Now you're in business![White][ChM2][White] \n[02_184]Take care not to drop it again![/C]"
    },
    {
      "id": 55,
      "text": "[ChM1]The [Red]Master Sword[/C][White] has returned![ChM2]\n[02_184]Its blade once again houses the\npower to repel evil. The sword of the\none true hero is revived at last![/C]"
    },
    {
      "id": 56,
      "text": "[ChM1]You got a [Red]Piece of Heart[/C][White]![ChM2]\n[02_184]Collect four to form one Heart\nContainer. More Heart Containers\nmean more life energy! How exciting![/C]"
    },
    {
      "id": 57,
      "text": "[ChM1]You got the [Red]Hero's Charm[/C][White]![ChM2]\n[02_184]This mystical trinket gives you the\nability to see the life forces of your\nfoes!\nTouch its icon on the [Red]Items screen[White]\nto equip it![/C]"
    },
    {
      "id": 58,
      "text": "[ChM1]You got a [Red]Skull Necklace[/C][White]![ChM2]\n[02_184]You can keep it in your [/C][Red]Spoils Bag[/C][White].\n\n\nThis rather off-putting accessory\nwould appear to be of little value,\nbut shown to the right person, it is\napparently of great worth.[/C]"
    },
    {
      "id": 59,
      "text": "[ChM1]You got a [Red]Boko Baba Seed[/C][White]![ChM2]\n[02_184]You can keep it in your [/C][Red]Spoils Bag[/C][White]!\n\n\nThis is the source of the evil plant's\n[/C][Red]magic[/C][White]. Perhaps if you can find\nsomeone to cook it up, its magic\ncan be unleashed![/C]"
    }
  ]
}
2025-09-29 21:18:48,412 - DEBUG - logging_utils - log_debug - Received translated chunk 4. Raw AI response:
{
  "translated_strings": [
    {
      "id": 40,
      "translation": "[ChM1]Ви отримали [Red]Гакустріл[/C][White]![ChM2]\n[02_184]Він розтягується! Він згортається! Він чіпляється за\nречі! Який чудовий винахід!\n\nПризначте його на (Y), (X) або <R>, а потім утримуйте\nкнопку, яку ви призначили, і націлюйте\nз [White](R)[White]. Відпустіть кнопку, щоб вистрілити\nГакустрілом.[/C]"
    },
    {
      "id": 41,
      "translation": "[ChM1]Ви отримали [Red]Сумку Кур'єра[/C][White]![ChM2]\n[02_184]Такі майстерно виготовлені сумки використовують\nлистоноші племені Ріто скрізь!\n\nЗ такою кількістю кишень, вона може вмістити\nбагато [/C][Red]предметів[/C][White]. Виберіть її на екрані\nпредметів і натисніть (Y), [White](X)[White] або [White]<R>[White],\nщоб побачити, що у вас всередині.[/C]"
    },
    {
      "id": 42,
      "translation": "[ChM1]Ви отримали [Red]бомби[/C][White]![ChM2]\n[02_184]Ви можете носити до [/C][Red]30[/C][White].\n\n\nВитягніть одну, а потім натисніть (A), щоб\nкинути її або [White]<ZR>[White], щоб покласти її під ноги.\nСпробуйте... Це вибухово!\n\nВикористання бомб на вашому човні\nдає вам могутню гармату, яку ви можете\nвикористовувати для боротьби з морськими ворогами.\n\nПризначте їх і використовуйте з\n(Y), [White](X)[White] або [White]<R>[White]![/C]"
    },
    {
      "id": 43,
      "translation": "[ChM1]Ви отримали [Red]Вбрання Героя[/C][White]![ChM2]\n[02_184]Вони виглядають так, ніби можуть бути трохи\nтеплими для цієї погоди...[/C]"
    },
    {
      "id": 44,
      "translation": "[ChM1]Ви отримали [Red]Молот-Череп[/C][White]![ChM2]\n[White][02_184][White]Призначте його і використовуйте з (Y), [White](X)[White] або <R>.\nЦей могутній молот може ламати речі\nі вбивати перешкоди в землю.\nДеякі вороги навіть отримують шок від\nвибухових хвиль, які він викликає, коли ви\nб'єте землю ним.[/C]"
    },
    {
      "id": 45,
      "translation": "[ChM1]Ви отримали [Red]Листок Деку[/C][White]![ChM2]\n[02_184]Призначте його і використовуйте з (Y), [White](X)[White] або [White]<R>[White].\n\n\nСтаньте на землю і\nвикористовуйте його, щоб дмухати пориви повітря на\nоб'єкти та ворогів.\n\nВи також можете стрибнути в повітря і\nвикористати свою [/C][Red]магічну силу[/C][White], щоб планувати на\nпотоках вітру![/C]"
    },
    {
      "id": 46,
      "translation": "[ChM1]Сили [Red]вогню[/C][White] та [/C][Red]льоду [/C][White]додані до ваших [/C][Red]стріл[/C][White]![White][ChM2][White][02_184] Коли ви витягнете\nлук, використовуйте [White]<ZR>[White], щоб змінити\nнаконечники стріл, а потім стріляйте![/C]"
    },
    {
      "id": 47,
      "translation": "[ChM1]Ви отримали [Red]Стрілу Світла[/C][White]![ChM2]\n[02_184]Коли ви витягнете свій лук, використовуйте [White]<ZR>[White]\nщоб змінити наконечники стріл, а потім стріляйте.\nСвітло цих стріл може\nпробити саме чисте зло![/C]"
    },
    {
      "id": 48,
      "translation": "[ChM1]Ви отримали [Red]Нові Вбрання Героя[/C][White]...\nЩо за...?[White][ChM2][White]\n[02_184]Вау! Вони справді [02_184]легкі...[/C]"
    },
    {
      "id": 49,
      "translation": "[ChM1]Ви прийняли [Red]Меч Героя[/C][White]![ChM2]\n[02_184]Використовуйте його з (B).\n\n\nВикористовуйте його мудро і обережно... Ви\nне хочете підвести доброго старого\nчоловіка, який довірив його вам![/C]"
    }
  ]
}
2025-09-29 21:19:14,320 - DEBUG - logging_utils - log_debug - Composed batch request for AI. System prompt size: 10946, User content size: 3555
2025-09-29 21:19:14,320 - DEBUG - logging_utils - log_debug - Received translated chunk 5. Raw AI response:
{
  "translated_strings": [
    {
      "id": 50,
      "translation": "[ChM1]Ви отримали [Red]Майстер-меч[/C][White]![ChM2]\n[02_184]Легендарний меч, що має силу\nвідганяти зло... колись ним володів\nлегендарний герой сам![/C]"
    },
    {
      "id": 51,
      "translation": "[ChM1]Молитви Земного Мудреця\nвідновили колишню\nенергію [Red]Майстер-меча[/C][White]![White][ChM2][White]\n\n[02_184]Залишився лише один останній крок,\nперш ніж він знову стане справжнім\nМайстер-мечем![/C]"
    },
    {
      "id": 52,
      "translation": "[ChM1]Ви отримали [Red]Щит Героя[/C][White]![ChM2]\n[02_184]Це легендарний щит, яким, як кажуть,\nкористувався сам герой!\n\nТримайте <ZR>, щоб захистити себе,\nтримаючи меч. Ви можете рухатися,\nякщо захищаєтеся, поки [/C][Red]націлюєтеся[/C][White]![/C]"
    },
    {
      "id": 53,
      "translation": "[ChM1]Ви отримали [Red]Дзеркальний Щит[/C][White]![ChM2]\n[02_184]Його блискуча поверхня відбиває\nпроміні світла. Тримайте [White]<ZR>[White], щоб захиститися,\nі використовуйте (L), щоб націлити його відображення.[/C]"
    },
    {
      "id": 54,
      "translation": "[ChM1]Ви повернули [Red]Меч Героя, який\nвипустили[/C][White]! Тепер ви готові до дій![White][ChM2][White] \n[02_184]Будьте обережні, щоб не впустити його знову![/C]"
    },
    {
      "id": 55,
      "translation": "[ChM1]Відновлено [Red]Майстер-меч[/C][White]![ChM2]\n[02_184]Його лезо знову має силу\nвідганяти зло. Меч одного справжнього\nгероя нарешті відроджено![/C]"
    },
    {
      "id": 56,
      "translation": "[ChM1]Ви отримали [Red]Частинку Серця[/C][White]![ChM2]\n[02_184]Зберіть чотири, щоб утворити один\nСерце-контейнер. Більше Серце-контейнерів\nозначає більше рівня здоров'я! Як захопливо![/C]"
    },
    {
      "id": 57,
      "translation": "[ChM1]Ви отримали [Red]Чарівний Амулет Героя[/C][White]![ChM2]\n[02_184]Цей містичний талісман дає вам\nможливість бачити життєві сили ваших\nворогів!\nДоторкніться до його іконки на [Red]Екран предметів[White],\nщоб одягнути його![/C]"
    },
    {
      "id": 58,
      "translation": "[ChM1]Ви отримали [Red]Намисто з черепів[/C][White]![ChM2]\n[02_184]Ви можете зберігати його у своїй [/C][Red]Сумці для Трофеїв[/C][White].\n\n\nЦей досить неприємний аксесуар\nздається не має великої цінності,\nале показавши його правильній людині,\nвін, очевидно, має велику вартість.[/C]"
    },
    {
      "id": 59,
      "translation": "[ChM1]Ви отримали [Red]Насіння Боко Баби[/C][White]![ChM2]\n[02_184]Ви можете зберігати його у своїй [/C][Red]Сумці для Трофеїв[/C][White]!\n\n\nЦе джерело магії злого рослини.\nМожливо, якщо ви знайдете\nкогось, хто зможе його приготувати,\nйого магію можна буде звільнити![/C]"
    }
  ]
}
2025-09-29 21:19:14,320 - DEBUG - logging_utils - log_debug - Full JSON payload sent to AI:
{
  "strings_to_translate": [
    {
      "id": 60,
      "text": "[ChM1]You got a [Red]Golden Feather[/C][White]![ChM2]\n[02_184]Keep it in your [/C][Red]Spoils Bag[/C][White].\n\n\nA certain strangeness emanates from\nthe quill of this beautifully shining\ngolden feather. Winged girls are said\nto be infatuated with these treasures.[/C]"
    },
    {
      "id": 61,
      "text": "[ChM1]You got a [Red]Knight's Crest[/C][White]![ChM2]\n[02_184]Keep it in your [/C][Red]Spoils Bag[/C][White].\n\n\nAll who are skilled in the ways of\nthe sword know the value of a crest\nsuch as this![/C]"
    },
    {
      "id": 62,
      "text": "[ChM1]You got some [Red]Red Chu Jelly[/C][White]![ChM2]\n[02_184]Keep it in your [/C][Red]Spoils Bag[/C][White].\n\n\nThis gelatinous goo comes from deep\nwithin [/C][Red]Red ChuChus[/C][White]. It is effective as\na cure for exhaustion, but it can't be\nused in its current state.[/C]"
    },
    {
      "id": 63,
      "text": "[ChM1]You got some [Green]Green Chu Jelly[/C][White]![ChM2]\n[02_184]Keep it in your [/C][Red]Spoils Bag[/C][White].\n\n\nInside [/C][Green]Green ChuChus[/C][White] is a magical\ngelatinous essence, but it can't be\nused in its current form.[/C]"
    },
    {
      "id": 64,
      "text": "[ChM1]You got some [Blue]Blue Chu Jelly[/C][White]![ChM2]\n[02_184]Keep it in your [/C][Red]Spoils Bag[/C][White].\n\n\nDeep within [/C][Blue]Blue ChuChus[/C][White] is a\ngelatinous essence that is said\nto be a magical cure-all.\n\n...But unfortunately, it can't be\nused in its current form.[/C]"
    },
    {
      "id": 65,
      "text": "[ChM1]You got the [Red]Dungeon Map[/C][White]![ChM2]\n[White][02_184]You can view it by tapping the [Red]Map Screen[White]\non the Wii U GamePad and even see rooms\nyou haven't been to yet. That's useful![White][/C]"
    },
    {
      "id": 66,
      "text": "[ChM1]You got the [Red]Compass[/C][White]![ChM2]\n[02_184]Now you can see where things are\nhidden in the dungeon. View the\n[Red]Map Screen[White][/C][White] and see for yourself![/C]"
    },
    {
      "id": 67,
      "text": "[ChM1]You got the [Red]Big Key[/C][White]![ChM2]\n[02_184]Use it to gain entrance to the room\nwhere the dungeon's boss lurks!\n\n[White]View the [White][Red]Map Screen [White][White]and see for yourself![White][/C]"
    },
    {
      "id": 68,
      "text": "[ChM1]You got an [Red]empty bottle[/C][White]![ChM2]\n[02_184]Set it to and use it with (Y), [White](X)[White], or [White]<R>[White].\n\n\nBottles are great for carrying water\nand holding other things.[/C]"
    },
    {
      "id": 69,
      "text": "[ChM1]You got some [Red]Red Potion[/C][White]![ChM2]\n[02_184]Set it to (Y), [White](X)[White], or [White]<R>[White] and use it to\nreplenish your [/C][Red]life energy[/C][White]. You can\nkeep it in your bottle.[/C]"
    }
  ]
}
2025-09-29 21:19:36,651 - DEBUG - logging_utils - log_debug - AIWorker: Cancellation requested.
2025-09-29 21:19:41,969 - DEBUG - logging_utils - log_debug - AIWorker: Translation cancelled during network request. Discarding response.
2025-09-29 21:19:41,969 - DEBUG - logging_utils - log_debug - AIWorker: Task finished, emitting 'finished' signal.
2025-09-29 21:19:41,970 - DEBUG - logging_utils - log_debug - TranslationHandler: Worker has confirmed cancellation.
2025-09-29 21:20:27,214 - DEBUG - logging_utils - log_debug - --> MainWindowEventHandler: closeEvent received.
2025-09-29 21:20:27,214 - DEBUG - logging_utils - log_debug - MainWindowHelper: prepare_to_close called.
2025-09-29 21:20:27,214 - DEBUG - logging_utils - log_debug -   [SAVE STATE] Block Idx: 0, String Idx: 46
2025-09-29 21:20:27,214 - DEBUG - logging_utils - log_debug -   [SAVE STATE] Cursor Pos: 103, Scroll V/H: 0/0
2025-09-29 21:20:27,214 - DEBUG - logging_utils - log_debug - MainWindowHelper: Updated search_history_to_save: 0 items
2025-09-29 21:20:27,214 - DEBUG - logging_utils - log_debug - --> AppActionHandler: handle_close_event called.
2025-09-29 21:20:28,142 - DEBUG - logging_utils - log_debug - <-- AppActionHandler: handle_close_event finished.
2025-09-29 21:20:28,142 - DEBUG - logging_utils - log_debug - Close accepted. Settings save skipped due to unsaved changes (handled by dialog) or restart in progress.
2025-09-29 21:20:28,143 - DEBUG - logging_utils - log_debug - <-- MainWindowEventHandler: closeEvent finished.
2025-09-29 21:20:28,151 - DEBUG - logging_utils - log_debug - Qt event loop finished with exit code: 0
2025-09-29 21:20:28,151 - DEBUG - logging_utils - log_debug - ================= Application End =================
